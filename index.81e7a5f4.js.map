{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SCAMC,EAAWC,SAASC,cAAc,oBAClCC,EAAkBF,SAASC,cAAc,eAE3CE,EAAW,EACJC,EAAO,EACZC,EAAmB,WACvB,IAAMC,EAAUC,MAAMJ,GACnBK,OACAC,KACC,SAACC,EAAGC,G,MACF,0BACEC,OADwBD,EAAM,EAAE,8BAEjCC,OADCD,EAAM,EACP,Y,IAEJE,KAAK,IAERd,EAASe,UAAY,GACrBf,EAASgB,mBAAmB,YAAaT,E,EAmB3CD,IACAH,EAAgBc,iBAAiB,SAjBT,SAAAC,GACtBC,QAAQC,IAAIF,EAAEG,QACmB,8BAA7BH,EAAEG,OAAOC,UAAUC,OACrBlB,GAAQ,EACRD,GAAY,EACZE,KAE6B,6BAA7BY,EAAEG,OAAOC,UAAUC,OACV,IAATlB,EAEAA,GAAQ,EAERA,EAAOmB,OAAON,EAAEG,OAAOI,QAAQC,S,ID5BnC,IAAMC,EAAO,CACXC,KAAM3B,SAASC,cAAc,cAC7B2B,KAAM5B,SAASC,cAAc,cAC7B4B,UAAW7B,SAASC,cAAc,gBAClC6B,OAAQ9B,SAASC,cAAc,gBAC/B8B,YAAa/B,SAASC,cAAc,mBAElC+B,EAAQ,GACNC,EAAkB,SAAAC,G,IACtBC,EAAcD,EAAdE,OAAUD,KACVE,EAAWH,EAAXG,YACAC,EAAKJ,EAALI,MACAC,EAAGL,EAAHK,IACAC,EAAUN,EAAVM,W,MAEA,mCAC8B5B,OADIyB,EAAY,uCACIzB,OAApB4B,EAAW,WAEzB5B,OAFkC0B,EAAM,uDAEhB1B,OAAxB2B,EAAI,sBACd3B,OADkC0B,EAAM,gBACnC1B,OAALuB,EAAK,kC,EASPM,EAAa,SAAAC,G,OAAMA,EAAGrB,UAAUsB,IAAI,O,EACpCC,EAAa,SAAAF,G,OAAMA,EAAGrB,UAAUwB,OAAO,O,EAmC7CnB,EAAKC,KAAKX,iBAAiB,UA9BJ,SAAAC,GACrBA,EAAE6B,iBACF5B,QAAQC,IAAI,SAAUa,GACtBd,QAAQC,IAAIF,EAAEG,OAAO2B,SAASC,MAAM1B,OAIpCJ,QAAQC,IAAI,QAASf,GACrBwC,EAAWlB,EAAKK,aAChBU,EAAWf,EAAKI,QAZKJ,EAAKG,UAAUoB,aAAa,YAAY,GAe7D,IAAM3B,EAAYL,EAAEG,OAAO2B,SAASC,MAA5B1B,MACRU,EAAQV,GACR,EAAAzB,EAAAqD,YAAW5B,EAAOlB,GACf+C,MAAK,SAAAjB,G,IAzBFN,EAyBKwB,EAAQlB,EAARkB,SAzBLxB,EA0BKwB,EA1BM3C,IAAIwB,GACrBP,EAAKE,KAAKd,UAAYc,EAAKf,KAAK,IAKNa,EAAKK,YAAYV,UAAUsB,IAAI,aAuBrDF,EAAWf,EAAKK,Y,IAEjBsB,OAAM,SAAAC,GACLpC,QAAQC,IAAImC,EAAIC,Q,IAEjBC,SAAQ,WACPZ,EAAWlB,EAAKI,QA3BGJ,EAAKG,UAAU4B,gBAAgB,W","sources":["src/js/helpers/news.js","src/js/helpers/news/paginationMarkup.js"],"sourcesContent":["import { getNewsApi } from './getApi';\n\nimport './news/paginationMarkup';\nimport { page } from './news/paginationMarkup';\nconst refs = {\n  form: document.querySelector('.news-form'),\n  list: document.querySelector('.news-list'),\n  submitBtn: document.querySelector('.news-button'),\n  loader: document.querySelector('.news-loader'),\n  searchBlock: document.querySelector('.search-result'),\n};\nlet query = '';\nconst getItemTemplate = ({\n  source: { name },\n  publishedAt,\n  title,\n  url,\n  urlToImage,\n}) =>\n  `<li class=\"news-item\" data-is='${publishedAt}'>\n  <img class='news-icon' src=\"${urlToImage}\" alt=\"${title}\">\n  <div class=\"item-text-box\">\n       <a href=\"${url}\" target=\"_blank\">${title}</a>\n   <p>${name}</p>\n        </div>\n    </li>`;\n\nconst render = arr => {\n  const list = arr.map(getItemTemplate);\n  refs.list.innerHTML = list.join('');\n};\n\nconst showLoader = el => el.classList.add('show');\nconst hideLoader = el => el.classList.remove('show');\nconst newsListStyle = () => refs.searchBlock.classList.add('news-show');\nconst lockForm = () => refs.submitBtn.setAttribute('disabled', true);\nconst unlockForm = () => refs.submitBtn.removeAttribute('disabled');\n\nconst onHandleSubmit = e => {\n  e.preventDefault();\n  console.log('query-', query);\n  console.log(e.target.elements.query.value);\n  // if (e.target.elements.query.value !== query) {\n  //   page = 1;\n  // }\n  console.log('page-', page);\n  hideLoader(refs.searchBlock);\n  showLoader(refs.loader);\n\n  lockForm();\n  const { value } = e.target.elements.query;\n  query = value;\n  getNewsApi(value, page)\n    .then(({ articles }) => {\n      render(articles);\n      newsListStyle();\n\n      showLoader(refs.searchBlock);\n    })\n    .catch(err => {\n      console.log(err.message);\n    })\n    .finally(() => {\n      hideLoader(refs.loader);\n      unlockForm();\n    });\n};\n\nrefs.form.addEventListener('submit', onHandleSubmit);\n","const btnBlock = document.querySelector('.pagination-btns');\nconst paginationBlock = document.querySelector('.pagination');\nlet items = [];\nlet pageSize = 5;\nexport let page = 1;\nconst paginationMarkup = () => {\n  const buttons = Array(pageSize)\n    .fill()\n    .map(\n      (_, idx) =>\n        `<button data-btnValue=\"${idx + 1}\" class='pagination-btn'>${\n          idx + 1\n        }</button>`\n    )\n    .join('');\n\n  btnBlock.innerHTML = '';\n  btnBlock.insertAdjacentHTML('beforeend', buttons);\n};\n\nconst handlePageClick = e => {\n  console.log(e.target);\n  if (e.target.classList.value === 'pagination-btn_move-right') {\n    page += 1;\n    pageSize += 1;\n    paginationMarkup();\n  } else if (\n    e.target.classList.value === 'pagination-btn_move-left' &&\n    page !== 1\n  ) {\n    page -= 1;\n  } else {\n    page = Number(e.target.dataset.btnvalue);\n  }\n};\n\npaginationMarkup();\npaginationBlock.addEventListener('click', handlePageClick);\n"],"names":["$jw3N8","parcelRequire","$cc2c3b8dc1f32822$var$btnBlock","document","querySelector","$cc2c3b8dc1f32822$var$paginationBlock","$cc2c3b8dc1f32822$var$pageSize","$cc2c3b8dc1f32822$export$523fb3936f49e028","$cc2c3b8dc1f32822$var$paginationMarkup","buttons","Array","fill","map","_","idx","concat","join","innerHTML","insertAdjacentHTML","addEventListener","e","console","log","target","classList","value","Number","dataset","btnvalue","$ac77dbc931a89c3e$var$refs","form","list","submitBtn","loader","searchBlock","$ac77dbc931a89c3e$var$query","$ac77dbc931a89c3e$var$getItemTemplate","param","name","source","publishedAt","title","url","urlToImage","$ac77dbc931a89c3e$var$showLoader","el","add","$ac77dbc931a89c3e$var$hideLoader","remove","preventDefault","elements","query","setAttribute","getNewsApi","then","articles","catch","err","message","finally","removeAttribute"],"version":3,"file":"index.81e7a5f4.js.map"}