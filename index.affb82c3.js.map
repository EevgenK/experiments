{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAA,MAAMC,EAAWC,SAASC,cAAc,oBAClCC,EAAkBF,SAASC,cAAc,eAC/C,IAEWE,EAAO,EACO,MACvB,MAAMC,EAAUC,MAHH,GAIVC,OACAC,KACC,CAACC,EAAGC,IACF,0BAA0BA,EAAM,6BAC9BA,EAAM,eAGXC,KAAK,IAERX,EAASY,UAAY,GACrBZ,EAASa,mBAAmB,YAAaR,EAAQ,EAgBnDS,GACAX,EAAgBY,iBAAiB,SAdTC,IACW,8BAA7BA,EAAEC,OAAOC,UAAUC,MACrBf,GAAQ,EAEqB,6BAA7BY,EAAEC,OAAOC,UAAUC,OACV,IAATf,EAEAA,GAAQ,EAERA,EAAOgB,OAAOJ,EAAEC,OAAOI,QAAQC,SAAS,IDzB5C,MAAMC,EAAO,CACXC,KAAMvB,SAASC,cAAc,cAC7BuB,KAAMxB,SAASC,cAAc,cAC7BwB,UAAWzB,SAASC,cAAc,gBAClCyB,OAAQ1B,SAASC,cAAc,gBAC/B0B,YAAa3B,SAASC,cAAc,mBAGhC2B,EAAkB,EACtBC,QAAQC,KAAEA,GAAMC,YAChBA,EAAWC,MACXA,EAAKC,IACLA,EAAGC,WACHA,KAEA,kCAAkCH,sCACJG,WAAoBF,uDAElCC,sBAAwBD,gBAClCF,mCASFK,EAAaC,GAAMA,EAAGnB,UAAUoB,IAAI,QACpCC,EAAaF,GAAMA,EAAGnB,UAAUsB,OAAO,QA2B7CjB,EAAKC,KAAKT,iBAAiB,UAtBJC,IACrBA,EAAEyB,iBACFF,EAAWhB,EAAKK,aAChBQ,EAAWb,EAAKI,QANKJ,EAAKG,UAAUgB,aAAa,YAAY,GAS7D,MAAMvB,MAAEA,GAAUH,EAAEC,OAAO0B,SAASC,OACpC,EAAA9C,EAAA+C,YAAW1B,EAAOf,GACf0C,MAAK,EAACC,SAAEA,MAnBE,CAAAC,IACb,MAAMvB,EAAOuB,EAAIxC,IAAIqB,GACrBN,EAAKE,KAAKb,UAAYa,EAAKd,KAAK,GAAG,EAkB/BsC,CAAOF,GAbexB,EAAKK,YAAYV,UAAUoB,IAAI,aAerDF,EAAWb,EAAKK,YAAY,IAE7BsB,OAAMC,IACLC,QAAQC,IAAIF,EAAIG,QAAQ,IAEzBC,SAAQ,KACPhB,EAAWhB,EAAKI,QAnBGJ,EAAKG,UAAU8B,gBAAgB,WAoBtC,GACZ","sources":["src/js/helpers/news.js","src/js/helpers/news/paginationMarkup.js"],"sourcesContent":["import { getNewsApi } from './getApi';\n\nimport './news/paginationMarkup';\nimport { page } from './news/paginationMarkup';\nconst refs = {\n  form: document.querySelector('.news-form'),\n  list: document.querySelector('.news-list'),\n  submitBtn: document.querySelector('.news-button'),\n  loader: document.querySelector('.news-loader'),\n  searchBlock: document.querySelector('.search-result'),\n};\n\nconst getItemTemplate = ({\n  source: { name },\n  publishedAt,\n  title,\n  url,\n  urlToImage,\n}) =>\n  `<li class=\"news-item\" data-is='${publishedAt}'>\n  <img class='news-icon' src=\"${urlToImage}\" alt=\"${title}\">\n  <div class=\"item-text-box\">\n       <a href=\"${url}\" target=\"_blank\">${title}</a>\n   <p>${name}</p>\n        </div>\n    </li>`;\n\nconst render = arr => {\n  const list = arr.map(getItemTemplate);\n  refs.list.innerHTML = list.join('');\n};\n\nconst showLoader = el => el.classList.add('show');\nconst hideLoader = el => el.classList.remove('show');\nconst newsListStyle = () => refs.searchBlock.classList.add('news-show');\nconst lockForm = () => refs.submitBtn.setAttribute('disabled', true);\nconst unlockForm = () => refs.submitBtn.removeAttribute('disabled');\n\nconst onHandleSubmit = e => {\n  e.preventDefault();\n  hideLoader(refs.searchBlock);\n  showLoader(refs.loader);\n\n  lockForm();\n  const { value } = e.target.elements.query;\n  getNewsApi(value, page)\n    .then(({ articles }) => {\n      render(articles);\n      newsListStyle();\n      showLoader(refs.searchBlock);\n    })\n    .catch(err => {\n      console.log(err.message);\n    })\n    .finally(() => {\n      hideLoader(refs.loader);\n      unlockForm();\n    });\n};\n\nrefs.form.addEventListener('submit', onHandleSubmit);\n","const btnBlock = document.querySelector('.pagination-btns');\nconst paginationBlock = document.querySelector('.pagination');\nlet items = [];\nlet pageSize = 5;\nexport let page = 1;\nconst paginationMarkup = () => {\n  const buttons = Array(pageSize)\n    .fill()\n    .map(\n      (_, idx) =>\n        `<button data-btnValue=\"${idx + 1}\" class='pagination-btn'>${\n          idx + 1\n        }</button>`\n    )\n    .join('');\n\n  btnBlock.innerHTML = '';\n  btnBlock.insertAdjacentHTML('beforeend', buttons);\n};\n\nconst handlePageClick = e => {\n  if (e.target.classList.value === 'pagination-btn_move-right') {\n    page += 1;\n  } else if (\n    e.target.classList.value === 'pagination-btn_move-left' &&\n    page !== 1\n  ) {\n    page -= 1;\n  } else {\n    page = Number(e.target.dataset.btnvalue);\n  }\n};\n\npaginationMarkup();\npaginationBlock.addEventListener('click', handlePageClick);\n"],"names":["$4nZpe","parcelRequire","$7242a29365db90f0$var$btnBlock","document","querySelector","$7242a29365db90f0$var$paginationBlock","$7242a29365db90f0$export$523fb3936f49e028","buttons","Array","fill","map","_","idx","join","innerHTML","insertAdjacentHTML","$7242a29365db90f0$var$paginationMarkup","addEventListener","e","target","classList","value","Number","dataset","btnvalue","$24251afb905c979c$var$refs","form","list","submitBtn","loader","searchBlock","$24251afb905c979c$var$getItemTemplate","source","name","publishedAt","title","url","urlToImage","$24251afb905c979c$var$showLoader","el","add","$24251afb905c979c$var$hideLoader","remove","preventDefault","setAttribute","elements","query","getNewsApi","then","articles","arr","$24251afb905c979c$var$render","catch","err","console","log","message","finally","removeAttribute"],"version":3,"file":"index.affb82c3.js.map"}